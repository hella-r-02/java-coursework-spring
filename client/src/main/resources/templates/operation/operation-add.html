<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Getting Started: Handing Form Submission</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
</head>
<body>
<header th:insert="blocks/header :: header"></header>
<div class="container mt-5">
    <h1> Добавление операции</h1>
    <form action="/operation/add" method="post">
        <div>
            <label for="article_id">Статья</label>
            <select id="article_id" name="article_id">
                <div th:each="article : ${articles}">
                    <option th:value="${article.id}" th:text="${article.id}"/>
                </div>
            </select>
        </div>
        <div>
            <label for="balance_id">Баланс</label>
            <select id="balance_id" name="balance_id">
                <div th:each="bal : ${balance}">
                    <option th:value="${bal.id}" th:text="${bal.id}"/>
                </div>
            </select>
        </div>
        <div>
            <button type="submit" class="btn btn-success">Добавить</button>
        </div>
    </form>
    <hr/>
    <h4>Статьи</h4>
    <div class="container mt-5">
        <div th:each="article : ${articles}" class="alert alert-into mt-2">
            <h2 th:text="${article.name} "/>
            <h6 th:text="${article.id}"/>
            <a th:href="'/article/' + ${article.id}" class="btn btn-warning">Детальнее</a>
            <hr/>
        </div>
    </div>
    <h4>Балансы</h4>
    <div class="container mt-5">
        <table>
            <tr>
                <th>Дата</th>
                <th>Сумма прихода</th>
                <th>Сумма расхода</th>
                <th>Прибыль</th>
            </tr>
            <tbody>
            <tr th:each="bal : ${balance}" class="alert alert-into mt-2">
                <td th:text="${bal.create_date}"></td>
                <td th:text="${bal.debit}"></td>
                <td th:text="${bal.credit}"></td>
                <td th:text="${bal.amount}"></td>
                <td>
                    <a th:href="'/balance/' + ${bal.id}" class="btn btn-warning">Детальнее</a><br/></br>
                </td>
            </tbody>
            </tr>
        </table>
    </div>
</div>
</body>
</html>